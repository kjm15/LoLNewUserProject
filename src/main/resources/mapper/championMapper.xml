<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.project.projectFinal.dao.ChampionDao">
	<select id="champList">
		select * from champName;
	</select>
	
	<select id="searchChamp">
		select champion_name_kr,champion_name 
		from champListT
		where champion_name_kr like concat('%',#{searchChamp},'%') or champion_name like concat('%',#{searchChamp},'%') or champion_name_cons like concat('%',#{searchChamp},'%');
	</select>
	
	<select id="champLine">
		select champion_name_kr,champion_name
		from champListT
		where line like concat('%',#{line},'%');
	</select>
	
	<select id="reChampList">
		select champion_name,champion_name_kr from champListT;
	</select>

	<select id="itemBuild">
		select
		tier,
		myChampName,
		enemyChampName,
		itemId1,
		itemId2,
		itemId3,
		count(itemId1) as myBuildPickCount,
		count(if(win = 'True', itemId1, null)) as myBuildwinCount
		from emerald_lol_datas
		where myChampName = #{myChampName} and enemyChampName = #{enemyChampName}
		group by itemId1,itemId2,itemId3
		order by myBuildwinCount desc
		limit 0,3;
	</select>
	
	<select id="itemBuildperTier">
		select
		tier,
		myChampName,
		enemyChampName,
		itemId1,
		itemId2,
		itemId3,
		count(itemId1) as myBuildPickCount,
		count(if(win = 'True', itemId1, null)) as myBuildwinCount
		from ${tier}_lol_datas
		where myChampName = #{myChampName} and enemyChampName = #{enemyChampName}
		group by itemId1,itemId2,itemId3
		order by myBuildwinCount desc
		limit 0,3;
	</select>
	
	<select id="itemInfo">
		select * from itemInfo where itemId = ${itemId}
	</select>
</mapper>
